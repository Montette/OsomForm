function displayCities(){const a=document.querySelector("#city");["Andrespol","Be\u0142chat\xF3w","Bia\u0142a Rawska","Brzeziny","B\u0142aszki","Drzewica","Dzia\u0142oszyn","Gorzkowice","G\u0142owno","G\u0142uch\xF3w","Kamie\u0144sk","Koluszki","Konstantyn\xF3w \u0141\xF3dzki","Kro\u015Bniewice","Ksawer\xF3w","Kutno","Moszczenica","Opoczno","Ozork\xF3w","Pabianice","Paj\u0119czno","Piotrk\xF3w Trybunalski","Pi\u0105tek","Podd\u0119bice","Przedb\xF3rz","P\u0119czniew","Radomsko","Rawa Mazowiecka","Rzeczyca","Rzg\xF3w","Sadkowice","Sieradz","Skierniewice","Stryk\xF3w","Sulej\xF3w","Szczerc\xF3w","Tomasz\xF3w Mazowiecki","Tuszyn","Uniej\xF3w","Warta","Wielu\u0144","Wierusz\xF3w","Wola Krzysztoporska","Wolb\xF3rz","Zdu\u0144ska Wola","Zel\xF3w","Zgierz","Z\u0142oczew","\u0141ask","\u0141owicz","\u0141\xF3d\u017A","\u0141\u0119czyca","\u017Bychlin"].forEach((b)=>{const c=document.createElement("option");c.innerHTML=b,c.value=b,a.appendChild(c)})}const stringPattern=/^[a-zA-ZąćęłńóśźżĄĘŁŃÓŚŹŻ]+(?:[\s-][a-zA-ZąćęłńóśźżĄĘŁŃÓŚŹŻ]+)*$/i,mailPattern=/^[0-9a-zA-Z_.-]+@[0-9a-zA-Z.-]+\.[a-zA-Z]{2,3}$/i,requiredInputs=document.querySelectorAll("[required]"),showConfirmationModal=()=>{document.querySelector(".modal__container").classList.add("modal-visible"),document.querySelector(".modal").classList.add("background-visible")},formToJSON=(a)=>[...a].reduce((a,b)=>{return b.name&&(a[b.name]=b.value),a},{}),sendData=()=>{const a=document.querySelector(".form");let b=null;b=formToJSON(a.elements),console.log(b),fetch("https://osomform.firebaseio.com/users.json",{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(b)}).then((a)=>a.json()).then(()=>{console.log("zapisano"),showConfirmationModal()})},showFieldValidation=(a,b)=>{!1==b?(a.classList.add("warning-input"),null!==a.nextElementSibling&&a.nextElementSibling.classList.add("visible-warning")):(a.classList.remove("warning-input"),null!==a.nextElementSibling&&a.nextElementSibling.classList.remove("visible-warning"))},validateInput=(a,b)=>{let c=!0;return void 0===b?""===a.value&&(c=!1):(!b.test(a.value)||""===a.value)&&(c=!1),c?(showFieldValidation(a,!0),!0):(showFieldValidation(a,!1),!1)},saveToLocalStorage=(a)=>{localStorage.setItem(a.name,a.value)},loadFromLocalStorage=()=>{[...requiredInputs].forEach((a)=>{a.value=localStorage.getItem(a.name)})},validateForm=()=>{[...requiredInputs].forEach((a)=>{"input"===a.nodeName.toLowerCase()&&(a.addEventListener("input",()=>{saveToLocalStorage(event.target)}),"text"==a.type&&"login"!==a.name&&a.addEventListener("input",(a)=>{validateInput(a.target,stringPattern)}),"login"==a.name&&a.addEventListener("input",(a)=>{validateInput(a.target,void 0)}),"email"==a.type&&a.addEventListener("blur",(a)=>{validateInput(a.target,mailPattern)}))})},checkFormBeforeSending=(a)=>{a.preventDefault();let b=!0;return[...requiredInputs].forEach((a)=>{if("input"===a.nodeName.toLowerCase()){const c=a.type.toLowerCase(),d=a.name;"text"==c&&"login"!==d&&!1==validateInput(a,stringPattern)&&(b=!1),"email"==c&&!1==validateInput(a,mailPattern)&&(b=!1),"checkbox"!=c||a.checked||(b=!1)}}),!!b&&void sendData()};document.querySelector(".modal__button").addEventListener("click",()=>{document.querySelector(".modal__container").classList.remove("modal-visible"),document.querySelector(".modal").classList.remove("background-visible")}),document.addEventListener("DOMContentLoaded",()=>{displayCities(),validateForm(),loadFromLocalStorage()}),document.querySelector(".form").addEventListener("submit",(a)=>{checkFormBeforeSending(a)});